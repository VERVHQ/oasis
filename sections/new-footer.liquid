{% schema %}
 {
   "name": "New Footer (Reorc)",
   "settings": [
     {
       "type": "header",
       "content": "Section Styling"
     },
     {
       "type": "color",
       "id": "bg_color",
       "label": "Background Color",
       "default": "#0a0a0a"
     },
      {
       "type": "image_picker",
       "id": "bg_image",
       "label": "Background Image (Optional)"
     },
     {
       "type": "range",
       "id": "bg_image_opacity",
       "min": 0,
       "max": 100,
       "step": 5,
       "unit": "%",
       "label": "Image Opacity",
       "default": 100
     },
      {
       "type": "range",
       "id": "overlay_opacity",
       "min": 0,
       "max": 100,
       "step": 5,
       "unit": "%",
       "label": "Black Overlay Opacity",
       "default": 0
     },
     {
       "type": "color",
       "id": "divider_color",
       "label": "Divider Color",
       "default": "#333333"
     },
     {
       "type": "range",
       "id": "padding_top",
       "min": 0,
       "max": 200,
       "step": 4,
       "unit": "px",
       "label": "Top Padding",
       "default": 60
     },
     {
       "type": "range",
       "id": "padding_bottom",
       "min": 0,
       "max": 200,
       "step": 4,
       "unit": "px",
       "label": "Bottom Padding",
       "default": 40
     },
     {
       "type": "header",
       "content": "Typography"
     },
     {
       "type": "color",
       "id": "text_color",
       "label": "Text Color",
       "default": "#ffffff"
     },
      {
        "type": "range",
        "id": "link_font_size_v2",
        "min": 10,
        "max": 30,
        "step": 1,
        "unit": "px",
        "label": "Link Text Size",
        "default": 16
      },
     {
       "type": "range",
       "id": "copyright_font_size",
       "min": 10,
       "max": 24,
       "step": 1,
       "unit": "px",
       "label": "Copyright Text Size",
       "default": 12
     },
     {
       "type": "header",
       "content": "Branding (Logo)"
     },
     {
       "type": "image_picker",
       "id": "logo_image",
       "label": "Brand Logo"
     },
     {
       "type": "range",
       "id": "logo_width",
       "min": 50,
       "max": 400,
       "step": 10,
       "unit": "px",
       "label": "Logo Width",
       "default": 150
     },
     {
       "type": "header",
       "content": "Bottom Content"
     },
     {
       "type": "richtext",
       "id": "copyright_text",
       "label": "Copyright Text",
       "default": "<p>2026 Â© Oasis Inc. All Rights Reserved</p>"
     },
      {
       "type": "text",
       "id": "terms_text",
       "label": "Terms Label",
       "default": "Terms and Conditions"
     },
     {
       "type": "url",
       "id": "terms_url",
       "label": "Terms Link"
     },
     {
       "type": "text",
       "id": "privacy_text",
       "label": "Privacy Label",
       "default": "Privacy Policy"
     },
     {
       "type": "url",
       "id": "privacy_url",
       "label": "Privacy Link"
     },
      {
        "type": "color",
        "id": "copyright_color",
        "label": "Copyright Color",
        "default": "#888888"
      },
      {
        "type": "header",
        "content": "Social Media Links"
      },
      {
         "type": "range",
         "id": "social_icon_size",
         "min": 12,
         "max": 40,
         "step": 1,
         "unit": "px",
         "label": "Icon Image Size",
         "default": 20
       },
       {
        "type": "range",
        "id": "social_padding",
        "min": 4,
        "max": 20,
        "step": 1,
        "unit": "px",
        "label": "Icon Padding",
        "default": 10
      },
       {
        "type": "range",
        "id": "social_radius",
        "min": 0,
        "max": 50,
        "step": 1,
        "unit": "%",
        "label": "Corner Radius",
        "default": 12
      },
      {
        "type": "color",
        "id": "social_bg_color",
        "label": "Icon Background Color",
        "default": "#114f4a"
      },
      {
        "type": "color",
        "id": "social_icon_color_filter",
        "label": "Icon Filter (e.g. for white)",
        "default": "#ffffff",
        "info": "This will affect border color for hover if coded."
      },
      {
        "type": "url",
        "id": "social_instagram_link",
        "label": "Instagram Link"
      },
      {
        "type": "image_picker",
        "id": "social_instagram_icon",
        "label": "Instagram Icon (Upload)"
      },
      {
        "type": "url",
        "id": "social_facebook_link",
        "label": "Facebook Link"
      },
      {
        "type": "image_picker",
        "id": "social_facebook_icon",
        "label": "Facebook Icon (Upload)"
      },
      {
        "type": "url",
        "id": "social_youtube_link",
        "label": "YouTube Link"
      },
      {
        "type": "image_picker",
        "id": "social_youtube_icon",
        "label": "YouTube Icon (Upload)"
      },
      {
        "type": "url",
        "id": "social_twitter_link",
        "label": "Twitter/X Link"
      },
      {
        "type": "image_picker",
        "id": "social_twitter_icon",
        "label": "Twitter/X Icon (Upload)"
      },
      {
        "type": "url",
        "id": "social_linkedin_link",
        "label": "LinkedIn Link"
      },
      {
        "type": "image_picker",
        "id": "social_linkedin_icon",
        "label": "LinkedIn Icon (Upload)"
      }
   ],
   "blocks": [
     {
       "type": "footer_link",
       "name": "Link",
       "settings": [
         {
           "type": "text",
           "id": "text",
           "label": "Link Text",
           "default": "Products"
         },
         {
           "type": "url",
           "id": "url",
           "label": "Link URL"
         }
       ]
     }
   ],
   "presets": [
     {
       "name": "New Footer (REORC)",
       "blocks": [
         {
           "type": "footer_link",
           "settings": { "text": "Products", "url": "#" }
         },
         {
           "type": "footer_link",
           "settings": { "text": "Blogs", "url": "#" }
         },
         {
           "type": "footer_link",
           "settings": { "text": "Contact", "url": "#" }
         }
       ]
     }
   ]
 }
{% endschema %}

{%- style -%}
  #shopify-section-{{ section.id }} {
    position: relative;
    z-index: 5;
    background-color: {{ section.settings.bg_color }};
  }

 .new-footer-section-{{ section.id }} {
   position: relative;
   background-color: {{ section.settings.bg_color }};
   color: {{ section.settings.text_color }};
   overflow: hidden;
   font-family: 'Quicksand', sans-serif;
 }

 .new-footer-bg {
   position: absolute;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;
   z-index: 0;
   pointer-events: none;
 }

 .new-footer-bg img {
   width: 100%;
   height: 100%;
   object-fit: cover;
   opacity: {{ section.settings.bg_image_opacity | divided_by: 100.0 }};
 }
 
 .new-footer-overlay {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background-color: #000;
    opacity: {{ section.settings.overlay_opacity | divided_by: 100.0 }};
    pointer-events: none;
    z-index: 1;
 }

 .new-footer-container {
   position: relative;
   z-index: 2;
   max-width: 1400px;
   margin: 0 auto;
   padding: 0 20px;
   padding-top: {{ section.settings.padding_top }}px;
   padding-bottom: {{ section.settings.padding_bottom }}px;
 }

 /* --- TOP ROW --- */
 .footer-top-row {
   display: flex;
   flex-direction: column;
   align-items: center;
   justify-content: space-between;
   gap: 30px;
   padding-bottom: 40px;
   border-bottom: 1px solid {{ section.settings.divider_color }};
   margin-bottom: 24px;
 }

 @media screen and (min-width: 768px) {
   .footer-top-row {
     flex-direction: row;
     align-items: center;
   }
 }

 .footer-logo-wrapper {
   flex-shrink: 0;
 }

 .footer-nav-links {
   display: flex;
   flex-wrap: wrap;
   gap: 20px;
   justify-content: center;
   align-items: center;
 }
 
 @media screen and (min-width: 768px) {
    .footer-nav-links {
        gap: 40px;
        justify-content: flex-end;
    }
 }

 .footer-link-item {
   text-decoration: none;
   color: {{ section.settings.text_color }};
   font-size: {{ section.settings.link_font_size_v2 }}px;
   opacity: 0.8;
   transition: opacity 0.2s, color 0.2s;
 }

 .footer-link-item:hover {
   opacity: 1;
 }


 /* --- BOTTOM BAR --- */
 .footer-bottom-bar {
   display: flex;
   flex-direction: column-reverse; /* Icons on top on mobile, copyright bottom */
   gap: 20px;
   align-items: center;
   justify-content: space-between;
 }

 @media screen and (min-width: 768px) {
   .footer-bottom-bar {
     flex-direction: row; /* Copyright left, icons right */
     align-items: center;
   }
 }


  /* Legal Links Section */
  .footer-legal-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
  }

  @media screen and (min-width: 768px) {
    .footer-legal-section {
      flex-direction: row;
      gap: 24px;
    }
  }

  .footer-legal-links {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
    justify-content: center;
  }

  .footer-legal-link {
    text-decoration: none;
    color: {{ section.settings.copyright_color }};
    font-size: {{ section.settings.copyright_font_size }}px;
    opacity: 0.9;
    transition: opacity 0.2s;
  }

  .footer-legal-link:hover {
    opacity: 1;
    text-decoration: underline;
  }

 .footer-copyright {
   color: {{ section.settings.copyright_color }};
   font-size: {{ section.settings.copyright_font_size }}px;
   text-align: center;
 }
 
 .footer-copyright p { margin: 0; }

  .footer-social-icons {
    display: flex;
    gap: 12px;
    justify-content: center;
    align-items: center;
  }

  .footer-social-link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.2s ease, filter 0.2s ease;
    background-color: {{ section.settings.social_bg_color }};
    padding: {{ section.settings.social_padding }}px;
    border-radius: {{ section.settings.social_radius }}%;
    line-height: 0;
  }
  
  .footer-social-link:hover {
     transform: scale(1.05);
     filter: brightness(1.1);
  }

  .footer-social-link img {
    width: {{ section.settings.social_icon_size }}px;
    height: {{ section.settings.social_icon_size }}px;
    object-fit: contain;
    display: block;
  }
{%- endstyle -%}

<div class="new-footer-section-{{ section.id }}">
 
 <div class="new-footer-bg">
    {%- if section.settings.bg_image != blank -%}
      {{ section.settings.bg_image | image_url: width: 2000 | image_tag: loading: 'lazy' }}
    {%- endif -%}
 </div>
 
 <div class="new-footer-overlay"></div>

 <div class="new-footer-container">
   
   <!-- Top Row: Logo & Editable Links -->
   <div class="footer-top-row">
     <div class="footer-logo-wrapper">
       {%- if section.settings.logo_image != blank -%}
         {{ section.settings.logo_image | image_url: width: section.settings.logo_width | image_tag: loading: 'lazy' }}
       {%- else -%}
         <h2 style="margin:0; font-size: 24px; font-weight: 700;">{{ shop.name }}</h2>
       {%- endif -%}
     </div>

     <div class="footer-nav-links">
       {%- for block in section.blocks -%}
         {%- if block.type == 'footer_link' -%}
            <a href="{{ block.settings.url }}" class="footer-link-item" {{ block.shopify_attributes }}>
              {{ block.settings.text }}
            </a>
         {%- endif -%}
       {%- endfor -%}
     </div>
   </div>

   <!-- Bottom Row: Copyright & Socials -->
     <div class="footer-bottom-bar">
       
      <div class="footer-social-icons">
          {%- if section.settings.social_instagram_icon != blank -%}
            <a href="{{ section.settings.social_instagram_link }}" class="footer-social-link" aria-label="Instagram">
              {{ section.settings.social_instagram_icon | image_url: width: 100 | image_tag: loading: 'lazy' }}
            </a>
          {%- endif -%}
          {%- if section.settings.social_facebook_icon != blank -%}
            <a href="{{ section.settings.social_facebook_link }}" class="footer-social-link" aria-label="Facebook">
              {{ section.settings.social_facebook_icon | image_url: width: 100 | image_tag: loading: 'lazy' }}
            </a>
          {%- endif -%}
          {%- if section.settings.social_youtube_icon != blank -%}
            <a href="{{ section.settings.social_youtube_link }}" class="footer-social-link" aria-label="YouTube">
              {{ section.settings.social_youtube_icon | image_url: width: 100 | image_tag: loading: 'lazy' }}
            </a>
          {%- endif -%}
          {%- if section.settings.social_twitter_icon != blank -%}
            <a href="{{ section.settings.social_twitter_link }}" class="footer-social-link" aria-label="Twitter">
              {{ section.settings.social_twitter_icon | image_url: width: 100 | image_tag: loading: 'lazy' }}
            </a>
          {%- endif -%}
          {%- if section.settings.social_linkedin_icon != blank -%}
            <a href="{{ section.settings.social_linkedin_link }}" class="footer-social-link" aria-label="LinkedIn">
              {{ section.settings.social_linkedin_icon | image_url: width: 100 | image_tag: loading: 'lazy' }}
            </a>
          {%- endif -%}
       </div>

      <div class="footer-legal-section">
        <div class="footer-copyright">
          {{ section.settings.copyright_text }}
        </div>
        
        <div class="footer-legal-links">
           {%- if section.settings.terms_text != blank -%}
             <a href="{{ section.settings.terms_url }}" class="footer-legal-link">{{ section.settings.terms_text }}</a>
           {%- endif -%}
           {%- if section.settings.privacy_text != blank -%}
             <a href="{{ section.settings.privacy_url }}" class="footer-legal-link">{{ section.settings.privacy_text }}</a>
           {%- endif -%}
        </div>
      </div>

      </div>
    </div>
    </div>

 </div>
</div>
